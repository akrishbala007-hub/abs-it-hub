module.exports=[26086,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e({initialData:a,onSuccess:e,onCancel:f}){let[g,h]=(0,c.useState)(a||{name:"",description:"",price:0,category:"laptop",image:""}),[i,j]=(0,c.useState)(!1),k=(0,d.useRouter)(),l=async b=>{b.preventDefault(),j(!0);let c=a?`/api/products/${a.id}`:"/api/products",d=a?"PUT":"POST";try{(await fetch(c,{method:d,headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).ok?(e&&e(),k.refresh()):alert("Failed to save product")}catch(a){alert("Error saving product")}finally{j(!1)}};return(0,b.jsxs)("form",{onSubmit:l,className:"card",style:{padding:"1.5rem"},children:[(0,b.jsx)("h3",{style:{fontSize:"1.25rem",marginBottom:"1rem"},children:a?"Edit Product":"Add New Product"}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Name"}),(0,b.jsx)("input",{className:"form-input",required:!0,value:g.name,onChange:a=>h({...g,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Category"}),(0,b.jsxs)("select",{className:"form-select",value:g.category,onChange:a=>h({...g,category:a.target.value}),children:[(0,b.jsx)("option",{value:"laptop",children:"Laptop"}),(0,b.jsx)("option",{value:"desktop",children:"Desktop"}),(0,b.jsx)("option",{value:"accessory",children:"Accessory"})]})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Price (₹)"}),(0,b.jsx)("input",{className:"form-input",type:"number",required:!0,value:g.price,onChange:a=>h({...g,price:Number(a.target.value)})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Description"}),(0,b.jsx)("textarea",{className:"form-textarea",rows:4,value:g.description,onChange:a=>h({...g,description:a.target.value})})]}),(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{className:"form-label",children:"Image URL"}),(0,b.jsx)("input",{className:"form-input",placeholder:"/images/example.jpg or https://...",value:g.image,onChange:a=>h({...g,image:a.target.value})}),(0,b.jsx)("div",{style:{fontSize:"0.8rem",color:"#666",marginTop:"0.2rem"},children:"Note: For this demo, please manually place images in public folder or use external URLs."})]}),(0,b.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[(0,b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:i,children:i?"Saving...":"Save Product"}),f&&(0,b.jsx)("button",{type:"button",className:"btn btn-outline",onClick:f,children:"Cancel"})]})]})}function f(){let[a,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(null),[i,j]=(0,c.useState)(!1),k=(0,d.useRouter)(),l=async()=>{let a=await fetch("/api/products");a.ok&&f(await a.json())};(0,c.useEffect)(()=>{l()},[]);let m=async a=>{confirm("Are you sure you want to delete this product?")&&(await fetch(`/api/products/${a}`,{method:"DELETE"}),l(),k.refresh())};return(0,b.jsxs)("div",{className:"container",style:{padding:"2rem 1.5rem"},children:[(0,b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[(0,b.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold"},children:"Admin Dashboard"}),(0,b.jsx)("button",{className:"btn btn-primary",onClick:()=>{j(!0),h(null)},disabled:i||!!g,children:"Add New Product"})]}),(i||g)&&(0,b.jsx)("div",{style:{marginBottom:"2rem"},children:(0,b.jsx)(e,{initialData:g||void 0,onSuccess:()=>{j(!1),h(null),l()},onCancel:()=>{j(!1),h(null)}})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)",textAlign:"left",backgroundColor:"var(--surface-color)"},children:[(0,b.jsx)("th",{style:{padding:"1rem"},children:"Image"}),(0,b.jsx)("th",{style:{padding:"1rem"},children:"Name"}),(0,b.jsx)("th",{style:{padding:"1rem"},children:"Category"}),(0,b.jsx)("th",{style:{padding:"1rem"},children:"Price"}),(0,b.jsx)("th",{style:{padding:"1rem"},children:"Actions"})]})}),(0,b.jsx)("tbody",{children:a.map(a=>(0,b.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,b.jsx)("td",{style:{padding:"1rem"},children:a.image?(0,b.jsx)("img",{src:a.image,alt:"",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"4px"}}):"-"}),(0,b.jsx)("td",{style:{padding:"1rem",fontWeight:500},children:a.name}),(0,b.jsx)("td",{style:{padding:"1rem",textTransform:"capitalize"},children:a.category}),(0,b.jsxs)("td",{style:{padding:"1rem"},children:["₹",a.price.toLocaleString("en-IN")]}),(0,b.jsxs)("td",{style:{padding:"1rem",display:"flex",gap:"0.5rem"},children:[(0,b.jsx)("button",{className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem"},onClick:()=>{h(a),j(!1)},children:"Edit"}),(0,b.jsx)("button",{className:"btn btn-outline",style:{padding:"0.25rem 0.5rem",fontSize:"0.875rem",borderColor:"var(--error-color)",color:"var(--error-color)"},onClick:()=>m(a.id),children:"Delete"})]})]},a.id))})]})})]})}a.s(["default",()=>f],26086)}];

//# sourceMappingURL=app_admin_dashboard_page_tsx_f6179312._.js.map